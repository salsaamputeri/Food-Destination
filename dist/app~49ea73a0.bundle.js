(self.webpackChunkfood_destination=self.webpackChunkfood_destination||[]).push([[135],{314:()=>{class n extends HTMLElement{connectedCallback(){this.render()}render(){this.innerHTML='\n          <style>\n          .app-bar {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            padding: 1.3rem 8%;\n            display: flex;\n            justify-content: space-between;\n            z-index: 100;\n          }\n          \n          .app-bar::before {\n            content: \'\';\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background-color: rgba(0, 0, 0, 0.324);\n            backdrop-filter: blur(8px);\n            z-index: -1;\n          }\n           \n          .app-bar .app-bar__menu button {\n            background-color: transparent;\n            border: none;\n            font-size: 18px;\n            padding: 8px;\n            cursor: pointer;\n            color: #fff; \n          }\n          \n          .app-bar .app-bar__brand h1 {\n            font-size: 1.6rem;\n            color: #fff;\n            text-decoration: none;\n            font-weight: 700;\n          }\n        \n         .app-bar .app-bar__menu {\n          display: none;\n        }\n        \n        .app-bar .app-bar__navigation {\n          position:fixed;\n          top: 0;\n          right: 0;\n          width: 50%; \n          max-width: 400px; \n          width: 100%;\n          background-color: transparent;\n          padding: 1.5rem 4rem;\n        }\n        \n        .app-bar .app-bar__navigation a {\n          font-size: 1.1rem;\n          color: #fff;\n          text-decoration: none;\n          display: inline-block;\n          padding: 5px;\n          min-width: 44px;\n          min-height: 44px;\n        }\n        \n        .app-bar .app-bar__navigation a:hover {\n          color: rgb(255, 255, 255);\n          text-shadow: 0px 0px 10px rgba(255, 255, 255, 0.938);\n        }\n          \n        .app-bar .app-bar__navigation.open {\n          transform: translateX(-100%);\n        } \n        @media (max-width: 703px) {\n            .app-bar {\n                position: fixed;\n                top: 0;\n                left: 0;\n                width: 100%;\n                padding: 1.3rem 8%;\n                display: flex;\n                justify-content: space-between;\n                z-index: 100;\n              }\n              \n            .app-bar::before {\n                content: \'\';\n                position: absolute;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                background-color: rgba(0, 0, 0, 0.324);\n                backdrop-filter: blur(8px);\n                z-index: -1;\n            }\n            \n            .app-bar .app-bar__menu {\n                display: flex;\n                align-items: center;\n            }\n            \n            .app-bar .app-bar__menu button {\n                background-color: transparent;\n                border: none;\n                font-size: 18px;\n                padding: 8px;\n                cursor: pointer;\n                color: #fff; \n            }\n            \n            .app-bar .app-bar__brand h1 {\n                font-size: 1.6rem;\n                color: #fff;\n                text-decoration: none;\n                font-weight: 700;\n            }\n            \n            .app-bar .app-bar__navigation {\n                position: absolute;\n                top: 100%;\n                left: 100%;\n                width: 100%;\n                max-height: 0;\n                overflow: hidden;\n                transition: max-height 0.5s ease-in-out, transform 0.5s ease-in-out;\n                background-color: rgba(0, 0, 0, 0.192);\n                backdrop-filter: blur(2px);\n                box-shadow: 0 .5rem 1rem rgba(0, 0, 0, 0.324);\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n                z-index: 99;\n            }\n            \n            .app-bar .app-bar__navigation a {\n              display: block;\n              font-size: 1rem;\n              text-align: center;\n              padding: 1rem;\n              transition: .5s ease;\n          }\n            \n            .app-bar .app-bar__navigation.open {\n              height: 13rem;\n              max-height: 100vh;\n            }\n            \n            .app-bar .app-bar__navigation.open a {\n                transform: translateY(0);\n                opacity: 1;\n                transition-delay: calc(.15s * var(--i));\n            }\n\n            @media (max-width: 589px) {\n                .app-bar .app-bar__brand h1 {\n                  font-size: 1.3rem;\n                  color: #fff;\n                  text-decoration: none;\n                  font-weight: 700;\n                }\n          </style>\n          <header class="app-bar">\n          <div class="app-bar__brand">\n              <h1>Food Destination</h1>\n          </div>\n          <div class="app-bar__menu">\n            <button id="hamburgerButton">â˜°</button>\n          </div>\n          <nav id="navigationDrawer" class="app-bar__navigation">\n          <div class="dropdown">\n              <div class="dropdown-content">\n                <a href="#/home" style="--i:0;" >Home</a>\n                <a href="#/favorite" style="--i:1;" >Favorite</a>\n                <a href="https://www.linkedin.com/in/salsamputeri" style="--i:2;" target="_blank" rel="noopener noreferrer">About Us</a>\n              </div>\n          </div>\n          </nav>\n        </header>\n        '}}customElements.define("app-bar",n)},605:(n,e,t)=>{"use strict";t(666),t(915),t(362);const a={init({button:n,drawer:e,content:t}){document.querySelectorAll("#navigationDrawer a").forEach((n=>{n.addEventListener("click",(()=>{e.classList.remove("open")}))})),n.addEventListener("click",(n=>{this._toggleDrawer(n,e)})),t.addEventListener("click",(n=>{this._closeDrawer(n,e)}))},_toggleDrawer(n,e){n.stopPropagation(),e.classList.toggle("open")},_closeDrawer(n,e){n.stopPropagation(),e.classList.remove("open")}},r={parseActiveUrlWithCombiner(){const n=window.location.hash.slice(1).toLowerCase(),e=this._urlSplitter(n);return this._urlCombiner(e)},parseActiveUrlWithoutCombiner(){const n=window.location.hash.slice(1).toLowerCase();return this._urlSplitter(n)},_urlSplitter(n){const e=n.split("/");return{resource:e[1]||null,id:e[2]||null,verb:e[3]||null}},_urlCombiner:n=>(n.resource?`/${n.resource}`:"/")+(n.id?"/:id":"")+(n.verb?`/${n.verb}`:"")},i={BASE_URL:"https://restaurant-api.dicoding.dev",BASE_IMAGE_URL:"https://restaurant-api.dicoding.dev/images/medium/<pictureId>",DEFAULT_LANGUAGE:"en-us",CACHE_NAME:"new Date().toISOString()",DATABASE_NAME:"food-destination-database",DATABASE_VERSION:1,OBJECT_STORE_NAME:"resto"},o={LIST:`${i.BASE_URL}/list`,DETAIL:n=>`${i.BASE_URL}/detail/${n}`},s=class{static async listRestaurants(){try{const n=await fetch(o.LIST);if(!n.ok)throw new Error(`Failed to fetch data: ${n.statusText}`);return(await n.json()).restaurants}catch(n){throw new Error(`Error fetching data: ${n.message}`)}}static async detailRestaurant(n){try{const e=await fetch(o.DETAIL(n));if(!e.ok)throw new Error(`Failed to fetch data: ${e.statusText}`);return(await e.json()).restaurant}catch(n){throw new Error(`Error fetching data: ${n.message}`)}}},d=n=>{const e=Math.floor(n),t=n%1!=0,a=Array(e).fill('<i class="bx bxs-star"></i>');return t&&a.push('<i class="bx bxs-star-half"></i>'),a.join("")},l=n=>`\n  <div class="row">\n    <img src="https://restaurant-api.dicoding.dev/images/medium/${n.pictureId}" alt="${n.name}" loading="lazy">\n    <h3>${n.name}</h3>\n    <p>${n.city}</p>\n    <div class="detail-ratings">\n      <span>${n.rating}</span>\n      ${d(n.rating)}\n    </div>\n    <div class="s-btnn">\n      <a href="#/detail/${n.id}">About ${n.name}</a>\n    </div>\n  </div>\n`,c={render:async()=>'\n    \x3c!-- Hero --\x3e\n    <div class="hero">\n    <picture >\n      <source media="(max-width: 600px)" srcset="images/hero-image_2-small.png">\n      <img src=\'images/hero-image_2-large.png\' alt="Hero Image">\n    </picture>\n    <div class="hero-content">\n      <h1>Delight Your Taste Buds</h1>\n      <p>At our table, every meal is a story, and every flavor is a chapter waiting to be savored.</p>\n    </div>\n  </div>\n  \n    \x3c!-- Restaurants --\x3e\n    <section class="shop" id="shop">\n      <div class="middle-text">\n        <h2>Restaurants Review</h2>\n        <p>In a world of endless flavors, each restaurant is a unique chapter</p>\n      </div>\n  \n      <div class="restaurant-content" id="restaurant-container">\n        \x3c!-- Loading indicator will be added here --\x3e\n      </div>\n    </section>\n  \n    \x3c!-- Web About --\x3e\n    <section class="about" id="about">\n    <div class="about-img">\n      <picture>\n        <source media="(max-width: 600px)" srcset="images/food.png">\n        <img src=\'images/food-large.png\' alt="Food Image">\n      </picture>\n    </div>\n      <div class="about-text">\n        <h2>Welcome to Food Destination, <br>where culinary excellence meets warm hospitality.<br></h2>\n        <p>Our journey began with a passion for creating memorable dining experiences, and today, we take pride in offering you a diverse range of delightful cuisines crafted by skilled chefs from around the world.</p>\n        <div class="about-btnn">\n          <a href="https://www.linkedin.com/in/salsamputeri" class="about-btnn">About Us</a>\n        </div>\n      </div>\n    </section>\n      ',async afterRender(){const n=document.querySelector("#restaurant-container"),e=document.createElement("div");e.classList.add("custom-loader"),n.appendChild(e);try{const t=await s.listRestaurants();n.removeChild(e),n.innerHTML="",t.forEach((e=>{n.innerHTML+=l(e)}))}catch(t){n.removeChild(e),n.innerHTML="Failed to load restaurant list. Please try again later.",console.error(t.message)}}};var u=t(424);const{DATABASE_NAME:p,DATABASE_VERSION:h,OBJECT_STORE_NAME:m}=i,v=(0,u.X3)(p,h,{upgrade(n){n.createObjectStore(m,{keyPath:"id"})}}),b={async getRestaurant(n){if(n)return(await v).get(m,n)},getAllRestaurant:async()=>(await v).getAll(m),async putRestaurant(n){if(n.hasOwnProperty("id"))return(await v).put(m,n)},deleteRestaurant:async n=>(await v).delete(m,n)},g={async init({likeButtonContainer:n,favoriteRestaurants:e,restaurant:t}){this._likeButtonContainer=n,this._restaurant=t,this._favoriteRestaurants=e,await this._renderButton()},async _renderButton(){const{id:n}=this._restaurant;await this._isRestaurantExist(n)?this._renderLiked():this._renderLike()},async _isRestaurantExist(n){return!!await this._favoriteRestaurants.getRestaurant(n)},_renderLike(){this._likeButtonContainer.innerHTML='\n  <button aria-label="like this restaurant" id="likeButton" class="like">\n     <i class="fa fa-heart-o" aria-hidden="true"></i>\n  </button>\n',document.querySelector("#likeButton").addEventListener("click",(async()=>{await this._favoriteRestaurants.putRestaurant(this._restaurant),this._renderButton()}))},_renderLiked(){this._likeButtonContainer.innerHTML='\n  <button aria-label="unlike this restaurant" id="likeButton" class="like">\n    <i class="fa fa-heart" aria-hidden="true"></i>\n  </button>\n',document.querySelector("#likeButton").addEventListener("click",(async()=>{await this._favoriteRestaurants.deleteRestaurant(this._restaurant.id),this._renderButton()}))}},f={"/":c,"/home":c,"/favorite":{render:async()=>'\n    \x3c!-- Hero --\x3e\n    <div class="hero">\n    <picture >\n      <source media="(max-width: 600px)" srcset="images/hero-image_2-small.png">\n      <img src=\'images/hero-image_2-large.png\' alt="Hero Image" >\n    </picture>\n    <div class="hero-content">\n      <h1>Delight Your Taste Buds</h1>\n      <p>At our table, every meal is a story, and every flavor is a chapter waiting to be savored.</p>\n    </div>\n  </div>\n\n    \x3c!-- Restaurants --\x3e\n    <div class="content">\n    <section class="shop" id="shop">\n      <div class="middle-text">\n        <h2>Liked Destination</h2>\n      </div>\n\n      <div class="restaurant-content" id="restaurant-container">\n      </div>\n          <h3 class="restaurant-item__not__found">Tidak ada restaurant untuk ditampilkan</h3>\n    </section> \n    </div>       \n    ',async afterRender(){const n=document.querySelector("#restaurant-container"),e=document.querySelector(".restaurant-item__not__found"),t=document.createElement("div");t.classList.add("custom-loader"),n.appendChild(t);try{const a=await b.getAllRestaurant();n.removeChild(t),a.length>0?(e.style.display="none",a.forEach((e=>{n.innerHTML+=l(e)}))):e.style.display="block"}catch(a){n.removeChild(t),e.style.display="block",n.innerHTML="Failed to load favorite restaurants. Please try again later.",console.error(a.message)}}},"/detail/:id":{render:async()=>'\n    <div id="restaurant" class="restaurant"></div>\n    <div id="likeButtonContainer"></div>\n      ',async afterRender(){const n=r.parseActiveUrlWithoutCombiner(),e=document.querySelector("#restaurant"),t=document.createElement("div");t.classList.add("custom-loader"),e.appendChild(t);try{const a=await s.detailRestaurant(n.id);function o(n){const e=document.querySelector(".restaurant__reviews ul");e.innerHTML="",n.forEach((n=>{const t=document.createElement("li");t.innerHTML=`<strong>${n.name}:</strong> ${n.review}`,e.appendChild(t)}))}e.removeChild(t),e.innerHTML=(n=>`\n  <div class="hero-image">\n    <img class="restaurant-poster lazyload" data-src="https://restaurant-api.dicoding.dev/images/medium/${n.pictureId}" alt="${n.name}" />\n    <h2 class="restaurant-name">${n.name}</h2>\n    <div class="detailpage-ratings">\n      <span>${n.rating}</span>\n      ${d(n.rating)}\n    </div>\n    <div class="restaurant__info">\n      <h3>Restaurant Information</h3>\n      <h4>Location</h4>\n      <p>${n.city}</p>\n      <p>${n.address}</p>\n      <p> ${n.categories.map((n=>n.name)).join(", ")} Food</p>\n    </div>\n    <div class="restaurant__description">\n      <h3>Restaurant Description</h3>\n      <p>${n.description}</p>\n    </div>\n    <div class="restaurant__foodmenu">\n    <h3>Food Menu</h3>\n    <ul>\n      ${n.menus.foods.map((n=>`<li>${n.name}</li>`)).join("")}\n    </ul>\n    </div>\n    <div class="restaurant__drinkmenu">\n      <h3>Drink Menu</h3>\n      <ul>\n        ${n.menus.drinks.map((n=>`<li>${n.name}</li>`)).join("")}\n      </ul>\n    </div>\n    <div class="restaurant__reviews">\n      <h3>Costumers Review</h3>\n      <form id="reviewForm">\n      <label for="reviewName">Your Name:</label>\n      <input type="text" id="reviewName" required>\n      \n      <label for="reviewText">Your Review:</label>\n      <textarea id="reviewText" required></textarea>\n      \n      <button type="submit">Submit Review</button>\n    </form>\n      <ul>\n        ${n.customerReviews.map((n=>`<li>${n.name}: ${n.review}</li>`)).join("")}\n      </ul>\n    </div>\n  </div>\n`)(a),g.init({likeButtonContainer:document.querySelector("#likeButtonContainer"),favoriteRestaurants:b,restaurant:{...a,poster:`https://restaurant-api.dicoding.dev/images/medium/${a.pictureId}`}}),document.querySelector("#reviewForm").addEventListener("submit",(async e=>{e.preventDefault();const t=document.querySelector("#reviewName"),a=document.querySelector("#reviewText"),r={id:n.id,name:t.value,review:a.value};try{const n=await fetch(`${i.BASE_URL}/review`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok)throw new Error(`Failed to add review: ${n.statusText}`);o((await n.json()).customerReviews),t.value="",a.value=""}catch(n){console.error(n.message)}}))}catch(l){e.removeChild(t),e.innerHTML="Failed to load restaurant details. Please try again later.",console.error(l.message)}}}};t(314);var w=t(131);t(90),t(770);const _=new class{constructor({button:n,drawer:e,content:t}){this._button=n,this._drawer=e,this._content=t,this._initialAppShell()}_initialAppShell(){a.init({button:this._button,drawer:this._drawer,content:this._content})}async renderPage(){const n=r.parseActiveUrlWithCombiner(),e=f[n];this._content.innerHTML=await e.render(),await e.afterRender();const t=document.querySelector(".skip-to-content"),a=document.querySelector("#mainContent");t.addEventListener("click",(n=>{n.preventDefault(),a.focus()}))}}({button:document.querySelector("#hamburgerButton"),drawer:document.querySelector("#navigationDrawer"),content:document.querySelector("#mainContent")});window.addEventListener("hashchange",(()=>{_.renderPage()})),window.addEventListener("load",(()=>{_.renderPage(),(async()=>{if(!("serviceWorker"in navigator))return void console.log("Service Worker not supported in the browser");const n=new w.ZW("./sw.bundle.js");try{await n.register(),console.log("Service worker registered")}catch(n){console.log("Failed to register service worker",n)}})()}))}}]);
//# sourceMappingURL=app~49ea73a0.bundle.js.map